# Environment Variables Configuration
# Copy this file to .env.local and fill in your actual values

# ===== LLM Provider API Keys =====

# OpenAI API Key
# Get it from: https://platform.openai.com/api-keys
OPENAI_API_KEY=your-openai-api-key-here

# Google Gemini API Key
# Get it from: https://makersuite.google.com/app/apikey
GOOGLE_GENERATIVE_AI_API_KEY=your-google-api-key-here
GOOGLE_MODEL_SLUG=gemini-2.5-flash-preview-05-20

# OpenRouter API Key (Access to multiple models)
# Get it from: https://openrouter.ai/keys
OPENROUTER_API_KEY=your-openrouter-api-key-here

# Anthropic Claude API Key
# Get it from: https://console.anthropic.com/
ANTHROPIC_API_KEY=your-anthropic-api-key-here

# ===== AWS Bedrock Configuration =====
# Get credentials from: https://console.aws.amazon.com/iam/
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=us-east-1

# ===== Other Services =====

# GitHub Personal Access Token (if needed)
PERSONAL_ACCESS_TOKEN=your-github-personal-access-token-here

# ===== Optional Configuration =====

# DrawIO Services Configuration
# DrawIO Base URL (for editor and export)
# Default: https://app.diagrams.net
# Alternative: Use a locally deployed draw.io instance
NEXT_PUBLIC_DRAWIO_BASE_URL=https://app.diagrams.net

# DrawIO Viewer URL (for viewing diagrams)
# Default: https://viewer.diagrams.net
NEXT_PUBLIC_DRAWIO_VIEWER_URL=https://viewer.diagrams.net

# DrawIO Preview URL (for comparison workbench preview)
# Default: https://viewer.diagrams.net/
NEXT_PUBLIC_DRAWIO_PREVIEW_URL=https://viewer.diagrams.net/

# ===== Runtime Model Configuration =====
# Note: You can also configure models directly in the UI via "Model Config"
# The UI configuration will be stored in browser localStorage and takes precedence
# over environment variables for runtime model settings.

# ===== 系统内置模型配置 =====
# System Built-in Model Configuration
# 
# 系统内置模型允许用户直接使用系统提供的 LLM，无需配置自己的 API Key
# 敏感信息（如 API Key）存储在服务端环境变量中，不会暴露给客户端
#
# 注意：
# - 如果启用系统模型，用户仍可以选择配置自己的自定义模型
# - 必须同时配置 ENABLE_SYSTEM_MODELS、SYSTEM_LLM_BASE_URL 和 SYSTEM_LLM_API_KEY
# - 如果任意一项缺失，系统模型功能不会启用
#
# 是否启用系统内置模型
ENABLE_SYSTEM_MODELS=true

# 系统模型 LLM 配置（必需，服务端使用，不暴露给客户端）
# 这些是系统模型调用 LLM API 的实际配置
SYSTEM_LLM_BASE_URL=https://api.openai.com/v1
SYSTEM_LLM_API_KEY=your-system-api-key-here

# 系统可用模型列表（可选）
# 格式：JSON 数组，每个模型包含 id、label、description、isStreaming
# 用户在客户端看到的是这些模型名称，但看不到 API Key
# 
# 如果不配置此项，系统会自动从 LLM API 获取可用模型列表
# 大多数 OpenAI 兼容的 API 都支持 /models 端点
#
# 手动配置示例（可精确控制显示哪些模型）：
# SYSTEM_MODELS='[{"id":"gpt-4o","label":"GPT-4o","description":"OpenAI 最新的多模态模型，支持图片输入","isStreaming":true},{"id":"gpt-4o-mini","label":"GPT-4o Mini","description":"性价比更高的轻量模型","isStreaming":true}]'
#
# 留空则自动获取：
SYSTEM_MODELS=

# ===== Default Model Configuration (用户自定义模型的默认配置) =====
# Configure default models that will be available on first load
# Format: JSON array of model configurations
# Each model can specify: name, baseUrl, apiKey, models (with modelId, label, isStreaming)
#
# Example:
# NEXT_PUBLIC_DEFAULT_MODELS='[{"name":"Claude","baseUrl":"https://api.anthropic.com/v1","apiKey":"sk-ant-xxx","models":[{"modelId":"claude-3-sonnet","label":"Claude 3 Sonnet","isStreaming":false},{"modelId":"claude-3-opus","label":"Claude 3 Opus","isStreaming":true}]},{"name":"OpenAI","baseUrl":"https://api.openai.com/v1","apiKey":"sk-xxx","models":[{"modelId":"gpt-4","label":"GPT-4","isStreaming":true}]}]'
#
# If not set, the hardcoded default in the code will be used
NEXT_PUBLIC_DEFAULT_MODELS=

# ===== 玻尔平台光子扣费配置 =====
# Bohrium Platform Photon Charge Configuration
# 详细文档：https://dptechnology.feishu.cn/wiki/LQKKwMet7i70XNk3TcjcwH8jnJi

# 是否启用光子扣费功能
# 设置为 'true' 启用，其他值或不设置则禁用
NEXT_PUBLIC_ENABLE_PHOTON_CHARGE=false

# SKU ID（必需，如果启用扣费）
# 每个 App 有唯一对应的 skuId，需要通过申请表获取
# 申请地址：https://dptechnology.feishu.cn/share/base/form/shrcnpCtBXBYZNWmwiNDMdGPH5c
BOHRIUM_SKU_ID=

# 开发者 Access Key（用于开发调试）
# 从玻尔平台个人设置获取：https://www.bohrium.com/settings/user
# 注意：这只用于开发调试，生产环境应该通过 OAuth 获取用户 AK
BOHRIUM_DEV_ACCESS_KEY=

# 开发者 Client Name（可选）
# 如果有的话，填写你的 client name
BOHRIUM_CLIENT_NAME=

# 扣费模式
# 'fixed' - 每次请求固定扣费（默认）
# 'token' - 根据 token 使用量扣费
BOHRIUM_CHARGE_MODE=fixed

# 固定扣费金额（当 BOHRIUM_CHARGE_MODE=fixed 时使用）
# 每次 AI 生成请求扣除的光子数量
# 默认：1 光子/请求
BOHRIUM_CHARGE_PER_REQUEST=1

# 基于 Token 的扣费金额（当 BOHRIUM_CHARGE_MODE=token 时使用）
# 每 1000 个 token 扣除的光子数量
# 默认：1 光子/1000 tokens
BOHRIUM_CHARGE_PER_1K_TOKEN=1

# 用户界面显示配置（可选）
# 用于前端显示扣费信息
NEXT_PUBLIC_PHOTON_CHARGE_PER_MESSAGE=1
NEXT_PUBLIC_PHOTON_CHARGE_PER_1K_TOKEN=1
